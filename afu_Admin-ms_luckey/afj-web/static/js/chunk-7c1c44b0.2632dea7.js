(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c1c44b0"],{"0f6d":function(t,e,i){},"40ea":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"header"},[i("div",{staticClass:"clearfix headLab"},[i("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.title))]),t._v(" "),i("el-button",{staticStyle:{float:"right",padding:"3px 0","font-size":"14px"},attrs:{type:"text"},on:{click:t.onBack}},[t._v("返回")])],1)]),t._v(" "),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataForm",staticStyle:{width:"calc(100% - 600px)","margin-left":"240px"},attrs:{rules:t.rules,model:t.form,"label-position":"right","label-width":"120px"}},[i("el-form-item",{attrs:{label:"二级分类名称",prop:"classifyChildName"}},[i("el-input",{attrs:{disabled:t.isDtl,maxlength:16},model:{value:t.form.classifyChildName,callback:function(e){t.$set(t.form,"classifyChildName",e)},expression:"form.classifyChildName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"图片",prop:"picture"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,"list-type":"picture-card","show-file-list":!1,headers:t.headers,data:t.fileData,"on-success":t.picUploadSuccess}},[t.form.picture?i("img",{staticClass:"el-upload-list__item-thumbnail",staticStyle:{width:"100%",height:"100%"},attrs:{src:t.form.picture}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),i("el-form-item",{attrs:{label:"状态",prop:"classifyStatus"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.isDtl,placeholder:"状态"},model:{value:t.form.classifyStatus,callback:function(e){t.$set(t.form,"classifyStatus",e)},expression:"form.classifyStatus"}},t._l(t.statusOptions,(function(t){return i("el-option",{key:t.key,attrs:{label:t.lab,value:t.value}})})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"represent"}},[i("el-input",{attrs:{type:"textarea",rows:4,disabled:t.isDtl},model:{value:t.form.represent,callback:function(e){t.$set(t.form,"represent",e)},expression:"form.represent"}})],1),t._v(" "),t.isDtl?t._e():i("el-form-item",{attrs:{align:"center"}},[i("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",loading:t.isLoaded},on:{click:t.onSubmit}},[t._v("确定")]),t._v(" "),i("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},s=[],r=i("db72"),n=(i("96cf"),i("3b8d")),o=i("ed8e"),u=i("91b6"),l=(i("e799"),i("ed08"),i("0f9a"),{name:"ClassifyChildAddManage",props:["image","clearList"],data:function(){return{title:"",canEdit:!1,isDtl:!1,type:"",headers:{},fileData:{fileType:1},classifyUuid:"",navigationId:"",classifyChildUuid:"",optionsData:{},file:this.image?this.image:"",logoImgList:[],dialogImageUrl:"",dialogVisible:!1,loading:!1,isLoaded:!1,uploadUrl:u["a"],statusOptions:[{key:1,lab:"上架",value:1},{key:2,lab:"下架",value:2}],form:{classifyChildName:void 0,picture:"",classifyStatus:void 0,seq:1,represent:void 0},rules:{classifyChildName:[{required:!0,message:"必填项",trigger:"blur"}],picture:[{required:!0,message:"必填项",trigger:"blur"}],classifyStatus:[{required:!0,message:"必填项",trigger:"blur"}]}}},created:function(){},mounted:function(){var t=localStorage.getItem("token"),e=localStorage.getItem("userId");this.headers={_t:t,_u:e},this.beforeRouter=this.$route.query.beforeRouter,this.$route.query.canEdit&&(this.canEdit=JSON.parse(this.$route.query.canEdit)),this.$route.query.isDtl&&(this.isDtl=JSON.parse(this.$route.query.isDtl)),this.$route.query.classifyUuid&&(this.classifyUuid=this.$route.query.classifyUuid),this.$route.query.navigationId&&(this.navigationId=this.$route.query.navigationId),this.$route.query.classifyChildUuid&&(this.classifyChildUuid=this.$route.query.classifyChildUuid),this.$route.query.optionsData&&(this.optionsData=this.$route.query.optionsData),this.canEdit?(console.log("canEdit"),this.type="update",this.title="修改二级分类",document.title="修改二级分类",this.$route.meta.title="修改二级分类"):this.isDtl?(this.type="check",this.title="二级分类详情",document.title="二级分类详情",this.$route.meta.title="二级分类详情"):(this.type="add",this.title="新增二级分类",document.title="新增二级分类",this.$route.meta.title="新增二级分类"),console.log(this.type,"======="),"update"===this.type&&(this.form=JSON.parse(this.optionsData),console.log(this.form,"=============="))},computed:{hideShow:function(){return""!==this.file}},methods:{onSubmit:function(){var t=this;this.$refs.dataForm.validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(i){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=18;break}if(t.isLoaded=!0,t.form.classifyUuid=t.classifyUuid,t.form.navigationId=t.navigationId,"add"!=t.type){e.next=12;break}return e.next=7,Object(o["c"])(Object(r["a"])({},t.form));case 7:a=e.sent,console.log(a,"res"),1==a.rtn&&(t.$message.success("创建成功"),t.resetForm()),e.next=17;break;case 12:return t.form.classifyChildUuid=t.classifyChildUuid,e.next=15,Object(o["d"])(Object(r["a"])({},t.form));case 15:s=e.sent,1==s.rtn&&(t.$message.success("修改成功"),t.onBack());case 17:t.isLoaded=!1;case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onCancel:function(){"add"===this.type?this.resetForm():this.$router.push({name:"BrandChildListManage"})},resetForm:function(){this.$refs.dataForm.resetFields(),this.form={brandName:void 0,brandLogo:void 0,picture:void 0,classifyStatus:void 0,isSettled:void 0,seq:1,represent:void 0}},onBack:function(){this.$router.back(-1)},logoUploadSuccess:function(t){1==t.rtn&&(this.form.brandLogo=t.url)},picUploadSuccess:function(t){1==t.rtn&&(this.form.picture=t.url)},getDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,a,s,r,n,o,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,brandDtl({brandUuid:this.brandUuid});case 3:e=t.sent,1==e.rtn&&(this.loading=!1,i=e.result,a=i.brandName,s=i.brandLogo,r=i.picture,n=i.classifyStatus,o=i.isSettled,u=i.represent,l=i.seq,i.createAt,i.updateAt,this.form={brandName:a,brandLogo:s,picture:r,classifyStatus:n,isSettled:o,seq:l,represent:u});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),c=l,d=(i("d859"),i("2877")),f=Object(d["a"])(c,a,s,!1,null,"23f52de0",null);e["default"]=f.exports},"91b6":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("db72"),i("b775");var a=i("2b0e");var s="".concat(a["default"].prototype.BASE_URL,"upload/file")},d859:function(t,e,i){"use strict";var a=i("0f6d"),s=i.n(a);s.a},e799:function(t,e,i){"use strict";i("6762"),i("2fdb"),i("4360")},ed8e:function(t,e,i){"use strict";i.d(e,"m",(function(){return s})),i.d(e,"f",(function(){return r})),i.d(e,"k",(function(){return n})),i.d(e,"e",(function(){return o})),i.d(e,"l",(function(){return u})),i.d(e,"b",(function(){return l})),i.d(e,"j",(function(){return c})),i.d(e,"i",(function(){return d})),i.d(e,"o",(function(){return f})),i.d(e,"n",(function(){return h})),i.d(e,"p",(function(){return p})),i.d(e,"a",(function(){return m})),i.d(e,"u",(function(){return y})),i.d(e,"t",(function(){return b})),i.d(e,"s",(function(){return g})),i.d(e,"r",(function(){return v})),i.d(e,"c",(function(){return O})),i.d(e,"d",(function(){return S})),i.d(e,"h",(function(){return j})),i.d(e,"g",(function(){return $})),i.d(e,"q",(function(){return k}));var a=i("ab3e");function s(t){return Object(a["a"])({url:"classify/selection/list",method:"post",data:t})}function r(t){return Object(a["a"])({url:"classify/child/selection/list",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/classify/list",method:"post",data:t})}function o(t){return Object(a["a"])({url:"classify/child/list",method:"post",data:t})}function u(t){return Object(a["a"])({url:"classify/navigation/list",method:"post",data:t})}function l(t){return Object(a["a"])({url:"classify/add",method:"post",data:t})}function c(t){return Object(a["a"])({url:"classify/modify",method:"post",data:t})}function d(t){return Object(a["a"])({url:"classify/detail",method:"post",data:t})}function f(t){return Object(a["a"])({url:"classify/modify/status",method:"post",data:t})}function h(t){return Object(a["a"])({url:"classify/modify/seq",method:"post",data:t})}function p(t){return Object(a["a"])({url:"classify/remove",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/classify/navigation/add",method:"post",data:t})}function y(t){return Object(a["a"])({url:"/classify/navigation/modify",method:"post",data:t})}function b(t){return Object(a["a"])({url:"/classify/navigation/modify/status",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/classify/navigation/modify/seq",method:"post",data:t})}function v(t){return Object(a["a"])({url:"/classify/navigation/remove",method:"post",data:t})}function O(t){return Object(a["a"])({url:"/classify/child/add",method:"post",data:t})}function S(t){return Object(a["a"])({url:"/classify/child/modify",method:"post",data:t})}function j(t){return Object(a["a"])({url:"classify/child/modify/status",method:"post",data:t})}function $(t){return Object(a["a"])({url:"classify/child/modify/seq",method:"post",data:t})}function k(t){return Object(a["a"])({url:"classify/child/remove",method:"post",data:t})}}}]);