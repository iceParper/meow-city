(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-047d0fa9"],{"24a4":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"header"},[a("div",{staticClass:"clearfix headLab"},[a("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.title))]),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0","font-size":"14px"},attrs:{type:"text"},on:{click:t.onBack}},[t._v("返回")])],1)]),t._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataForm",staticStyle:{width:"calc(100% - 600px)","margin-left":"240px"},attrs:{rules:t.rules,model:t.form,"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"classifyName"}},[a("el-input",{attrs:{disabled:t.isDtl,maxlength:16},model:{value:t.form.classifyName,callback:function(e){t.$set(t.form,"classifyName",e)},expression:"form.classifyName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"图片",prop:"picture"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,"list-type":"picture-card","show-file-list":!1,headers:t.headers,data:t.fileData,"on-success":t.picUploadSuccess}},[t.form.picture?a("img",{staticClass:"el-upload-list__item-thumbnail",staticStyle:{width:"100%",height:"100%"},attrs:{src:t.form.picture}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"classifyStatus"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.isDtl,placeholder:"状态"},model:{value:t.form.classifyStatus,callback:function(e){t.$set(t.form,"classifyStatus",e)},expression:"form.classifyStatus"}},t._l(t.statusOptions,(function(t){return a("el-option",{key:t.key,attrs:{label:t.lab,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",rows:4,disabled:t.isDtl},model:{value:t.form.represent,callback:function(e){t.$set(t.form,"represent",e)},expression:"form.represent"}})],1),t._v(" "),t.isDtl?t._e():a("el-form-item",{attrs:{align:"center"}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",loading:t.isLoaded},on:{click:t.onSubmit}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},s=[],r=a("db72"),n=(a("96cf"),a("3b8d")),o=a("ed8e"),u=a("91b6"),c=(a("e799"),a("ed08"),a("0f9a"),{name:"ClassifyAddManage",props:["image","clearList"],data:function(){return{title:"",canEdit:!1,isDtl:!1,type:"",headers:{},fileData:{fileType:1},classifyUuid:"",logoImgList:[],dialogImageUrl:"",dialogVisible:!1,loading:!1,isLoaded:!1,uploadUrl:u["a"],statusOptions:[{key:1,lab:"上架",value:1},{key:2,lab:"下架",value:2}],statusOptions1:[{key:0,lab:"未入驻",value:0},{key:1,lab:"已入驻",value:1}],form:{classifyName:void 0,picture:void 0,classifyStatus:void 0,seq:1,represent:void 0},rules:{classifyName:[{required:!0,message:"必填项",trigger:"blur"}],picture:[{required:!0,message:"必填项",trigger:"blur"}],classifyStatus:[{required:!0,message:"必填项",trigger:"blur"}]}}},created:function(){},mounted:function(){var t=localStorage.getItem("token"),e=localStorage.getItem("userId");this.headers={_t:t,_u:e},this.beforeRouter=this.$route.query.beforeRouter,this.$route.query.canEdit&&(this.canEdit=JSON.parse(this.$route.query.canEdit)),this.$route.query.isDtl&&(this.isDtl=JSON.parse(this.$route.query.isDtl)),console.log(this.$route.query,"---------"),this.$route.query.classifyUuid&&(this.classifyUuid=this.$route.query.classifyUuid),this.canEdit?(console.log("canEdit"),this.type="update",this.title="修改分类",document.title="修改分类",this.$route.meta.title="修改分类"):this.isDtl?(this.type="check",this.title="分类详情",document.title="分类详情",this.$route.meta.title="分类详情"):(this.type="add",this.title="新增分类",document.title="新增分类",this.$route.meta.title="新增分类"),"update"!==this.type&&"check"!==this.type||this.getDetail()},computed:{},methods:{onSubmit:function(){var t=this;this.$refs.dataForm.validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=15;break}if(t.isLoaded=!0,"add"!=t.type){e.next=9;break}return e.next=5,Object(o["b"])(Object(r["a"])({},t.form));case 5:i=e.sent,1==i.rtn&&(t.$message.success("创建成功"),t.resetForm()),e.next=14;break;case 9:return t.form.classifyUuid=t.classifyUuid,e.next=12,Object(o["j"])(Object(r["a"])({},t.form));case 12:s=e.sent,1==s.rtn&&(t.$message.success("修改成功"),t.onBack());case 14:t.isLoaded=!1;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onCancel:function(){"add"===this.type?this.resetForm():(console.log(this.$router,"---------"),this.$router.push({name:"ClassifyListManage"}))},resetForm:function(){this.$refs.dataForm.resetFields(),this.form={classifyName:void 0,picture:void 0,classifyStatus:void 0,seq:1,represent:void 0}},onBack:function(){this.$router.back(-1)},picUploadSuccess:function(t){1==t.rtn&&(this.form.picture=t.url)},getDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,r,n,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(o["i"])({classifyUuid:this.classifyUuid});case 3:e=t.sent,1==e.rtn&&(this.loading=!1,a=e.result,i=a.classifyName,s=a.picture,r=a.classifyStatus,n=a.represent,u=a.seq,a.createAt,a.updateAt,this.form={classifyName:i,picture:s,classifyStatus:r,seq:u,represent:n});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),l=c,d=(a("72b0"),a("2877")),f=Object(d["a"])(l,i,s,!1,null,"97b7a532",null);e["default"]=f.exports},"34a9":function(t,e,a){},"72b0":function(t,e,a){"use strict";var i=a("34a9"),s=a.n(i);s.a},"91b6":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("db72"),a("b775");var i=a("2b0e");var s="".concat(i["default"].prototype.BASE_URL,"upload/file")},e799:function(t,e,a){"use strict";a("6762"),a("2fdb"),a("4360")},ed8e:function(t,e,a){"use strict";a.d(e,"m",(function(){return s})),a.d(e,"f",(function(){return r})),a.d(e,"k",(function(){return n})),a.d(e,"e",(function(){return o})),a.d(e,"l",(function(){return u})),a.d(e,"b",(function(){return c})),a.d(e,"j",(function(){return l})),a.d(e,"i",(function(){return d})),a.d(e,"o",(function(){return f})),a.d(e,"n",(function(){return m})),a.d(e,"p",(function(){return p})),a.d(e,"a",(function(){return h})),a.d(e,"u",(function(){return y})),a.d(e,"t",(function(){return b})),a.d(e,"s",(function(){return v})),a.d(e,"r",(function(){return g})),a.d(e,"c",(function(){return O})),a.d(e,"d",(function(){return j})),a.d(e,"h",(function(){return k})),a.d(e,"g",(function(){return x})),a.d(e,"q",(function(){return S}));var i=a("ab3e");function s(t){return Object(i["a"])({url:"classify/selection/list",method:"post",data:t})}function r(t){return Object(i["a"])({url:"classify/child/selection/list",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/classify/list",method:"post",data:t})}function o(t){return Object(i["a"])({url:"classify/child/list",method:"post",data:t})}function u(t){return Object(i["a"])({url:"classify/navigation/list",method:"post",data:t})}function c(t){return Object(i["a"])({url:"classify/add",method:"post",data:t})}function l(t){return Object(i["a"])({url:"classify/modify",method:"post",data:t})}function d(t){return Object(i["a"])({url:"classify/detail",method:"post",data:t})}function f(t){return Object(i["a"])({url:"classify/modify/status",method:"post",data:t})}function m(t){return Object(i["a"])({url:"classify/modify/seq",method:"post",data:t})}function p(t){return Object(i["a"])({url:"classify/remove",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/classify/navigation/add",method:"post",data:t})}function y(t){return Object(i["a"])({url:"/classify/navigation/modify",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/classify/navigation/modify/status",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/classify/navigation/modify/seq",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/classify/navigation/remove",method:"post",data:t})}function O(t){return Object(i["a"])({url:"/classify/child/add",method:"post",data:t})}function j(t){return Object(i["a"])({url:"/classify/child/modify",method:"post",data:t})}function k(t){return Object(i["a"])({url:"classify/child/modify/status",method:"post",data:t})}function x(t){return Object(i["a"])({url:"classify/child/modify/seq",method:"post",data:t})}function S(t){return Object(i["a"])({url:"classify/child/remove",method:"post",data:t})}}}]);