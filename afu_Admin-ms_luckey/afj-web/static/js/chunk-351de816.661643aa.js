(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-351de816"],{"1c64":function(t,e,a){},"1cc6":function(t,e,a){"use strict";var i=a("1c64"),n=a.n(i);n.a},"333d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},n=[];a("c5f6");Math.easeInOutQuad=function(t,e,a,i){return t/=i/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(t,e,a){var i=r(),n=t-i,l=20,c=0;e="undefined"===typeof e?500:e;var u=function t(){c+=l;var r=Math.easeInOutQuad(c,i,n,e);o(r),c<e?s(t):a&&"function"===typeof a&&a()};u()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&l(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&l(0,800)}}},u=c,d=(a("1cc6"),a("2877")),f=Object(d["a"])(u,i,n,!1,null,"f3b72548",null);e["a"]=f.exports},"5a73":function(t,e,a){},6724:function(t,e,a){"use strict";a("8d41");var i="@@wavesContext";function n(t,e){function a(a){var i=Object.assign({},e.value),n=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),s=n.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var o=s.getBoundingClientRect(),r=s.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":(r=document.createElement("span"),r.className="waves-ripple",r.style.height=r.style.width=Math.max(o.width,o.height)+"px",s.appendChild(r)),n.type){case"center":r.style.top=o.height/2-r.offsetHeight/2+"px",r.style.left=o.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(a.pageY-o.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(a.pageX-o.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=n.color,r.className="waves-ripple z-active",!1}}return t[i]?t[i].removeHandle=a:t[i]={removeHandle:a},a}var s={bind:function(t,e){t.addEventListener("click",n(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[i].removeHandle,!1),t.addEventListener("click",n(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[i].removeHandle,!1),t[i]=null,delete t[i]}},o=function(t){t.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o;e["a"]=s},"8d41":function(t,e,a){},cbeb:function(t,e,a){"use strict";var i=a("5a73"),n=a.n(i);n.a},ed8e:function(t,e,a){"use strict";a.d(e,"m",(function(){return n})),a.d(e,"f",(function(){return s})),a.d(e,"k",(function(){return o})),a.d(e,"e",(function(){return r})),a.d(e,"l",(function(){return l})),a.d(e,"b",(function(){return c})),a.d(e,"j",(function(){return u})),a.d(e,"i",(function(){return d})),a.d(e,"o",(function(){return f})),a.d(e,"n",(function(){return m})),a.d(e,"p",(function(){return h})),a.d(e,"a",(function(){return p})),a.d(e,"u",(function(){return v})),a.d(e,"t",(function(){return g})),a.d(e,"s",(function(){return b})),a.d(e,"r",(function(){return y})),a.d(e,"c",(function(){return w})),a.d(e,"d",(function(){return S})),a.d(e,"h",(function(){return _})),a.d(e,"g",(function(){return N})),a.d(e,"q",(function(){return k}));var i=a("ab3e");function n(t){return Object(i["a"])({url:"classify/selection/list",method:"post",data:t})}function s(t){return Object(i["a"])({url:"classify/child/selection/list",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/classify/list",method:"post",data:t})}function r(t){return Object(i["a"])({url:"classify/child/list",method:"post",data:t})}function l(t){return Object(i["a"])({url:"classify/navigation/list",method:"post",data:t})}function c(t){return Object(i["a"])({url:"classify/add",method:"post",data:t})}function u(t){return Object(i["a"])({url:"classify/modify",method:"post",data:t})}function d(t){return Object(i["a"])({url:"classify/detail",method:"post",data:t})}function f(t){return Object(i["a"])({url:"classify/modify/status",method:"post",data:t})}function m(t){return Object(i["a"])({url:"classify/modify/seq",method:"post",data:t})}function h(t){return Object(i["a"])({url:"classify/remove",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/classify/navigation/add",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/classify/navigation/modify",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/classify/navigation/modify/status",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/classify/navigation/modify/seq",method:"post",data:t})}function y(t){return Object(i["a"])({url:"/classify/navigation/remove",method:"post",data:t})}function w(t){return Object(i["a"])({url:"/classify/child/add",method:"post",data:t})}function S(t){return Object(i["a"])({url:"/classify/child/modify",method:"post",data:t})}function _(t){return Object(i["a"])({url:"classify/child/modify/status",method:"post",data:t})}function N(t){return Object(i["a"])({url:"classify/child/modify/seq",method:"post",data:t})}function k(t){return Object(i["a"])({url:"classify/child/remove",method:"post",data:t})}},f1bc:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"分类名称"},model:{value:t.listQuery.classifyUuid,callback:function(e){t.$set(t.listQuery,"classifyUuid",e)},expression:"listQuery.classifyUuid"}},t._l(t.classifySelList,(function(t){return a("el-option",{key:t.classifyUuid,attrs:{label:t.classifyName,value:t.classifyUuid}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"导航名称"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"导航名称"},model:{value:t.listQuery.navigationName,callback:function(e){t.$set(t.listQuery,"navigationName",e)},expression:"listQuery.navigationName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"状态"},model:{value:t.listQuery.status,callback:function(e){t.$set(t.listQuery,"status",e)},expression:"listQuery.status"}},t._l(t.statusOptions,(function(t){return a("el-option",{key:t.key,attrs:{label:t.lab,value:t.value}})})),1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",[t.handleBtnShow[4].isShow?a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查询")]):t._e(),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.handleReset}},[t._v("重置")])],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"handle-container"},[a("el-button-group",[t.handleBtnShow[1].isShow?a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoaded_1,expression:"isLoaded_1"}],staticClass:"filter-item",attrs:{size:"mini",icon:"el-icon-d-caret",type:"primary"},on:{click:t.handleEditNavStatus}},[t._v("修改导航状态")]):t._e(),t._v(" "),t.handleBtnShow[5].isShow?a("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"loading",rawName:"v-loading",value:t.isLoaded_4,expression:"isLoaded_4"}],attrs:{icon:"el-icon-delete",type:"primary",size:"mini"},on:{click:t.handleDel}},[t._v("批量删除")]):t._e()],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,ref:"tableRef",staticStyle:{width:"100%"},attrs:{data:t.list,fit:"","highlight-current-row":"",id:"crTable","row-key":t.getRowKeys},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"导航名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.navigationName||"--"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"所属分类",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.classifyName||"--"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(1==i.status?"上架":"下架"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.createAt))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t.handleBtnShow[0].isShow?a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleEdit(i)}}},[t._v("修改")]):t._e(),t._v(" "),t.handleBtnShow[3].isShow?a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"80px","box-sizing":"border-box",padding:"7px 0","margin-left":"0"},attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.handleAdd(i)}}},[t._v("新增二级分类")]):t._e()]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.pageNum,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"pageNum",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}}),t._v(" "),a("el-dialog",{attrs:{title:"修改分类导航","before-close":t.closeModal,visible:t.dialogFormVisible3},on:{"update:visible":function(e){t.dialogFormVisible3=e}}},[a("el-form",{ref:"dataForm3",attrs:{rules:t.rules3,model:t.navItemForm}},[a("el-form-item",{attrs:{label:"分类导航",prop:"navigationName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"分类导航"},model:{value:t.navItemForm.navigationName,callback:function(e){t.$set(t.navItemForm,"navigationName",e)},expression:"navItemForm.navigationName"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeModal}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleEditNavSubmit}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"选择导航状态","before-close":t.closeModal,visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{ref:"dataForm1",attrs:{rules:t.rules1,model:t.form1}},[a("el-form-item",{attrs:{label:"导航状态",prop:"brandStatus","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"导航状态"},model:{value:t.form1.status,callback:function(e){t.$set(t.form1,"status",e)},expression:"form1.status"}},t._l(t.statusOptions,(function(t){return a("el-option",{key:t.key,attrs:{label:t.lab,value:t.value}})})),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeModal}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleEditNavStatusSubmit}},[t._v("确 定")])],1)],1)],1)},n=[],s=a("db72"),o=(a("96cf"),a("3b8d")),r=(a("ac6a"),a("ed8e")),l=a("53fe"),c=a.n(l),u=a("6724"),d=a("333d"),f=(a("ed08"),{name:"ClassifyNavManage",components:{Pagination:d["a"]},directives:{waves:u["a"]},filters:{statusFilter:function(t){var e={published:"success",draft:"info",deleted:"danger"};return e[t]}},data:function(){return{formLabelWidth:"100px",isLoaded_1:!1,isLoaded_2:!1,isLoaded_3:!1,isLoaded_4:!1,tableData:[],classifyUuid:"",classifySelList:[],statusOptions:[{key:1,lab:"上架",value:1},{key:2,lab:"下架",value:2}],form1:{status:""},seqForms:{tableData:[]},navItemForm:{navigationName:""},rules1:{status:[{required:!0,message:"必填项",trigger:"blur"}]},rules2:{seq:[{required:!0,message:"必填项",trigger:"blur"}]},rules3:{navigationName:[{required:!0,message:"必填项",trigger:"blur"}]},dialogFormVisible1:!1,dialogFormVisible2:!1,dialogFormVisible3:!1,handleBtnShow:[{btnName:"ClassifyNavigationModify",isShow:!1},{btnName:"ClassifyNavigationModifyStatus",isShow:!1},{btnName:"ClassifyNavigationModifySeq",isShow:!1},{btnName:"BrandChildAdd",isShow:!1},{btnName:"ClassifyNavigationQuery",isShow:!1},{btnName:"ClassifyNavigationRemove",isShow:!1}],selectedData:[],tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:20,classifyUuid:void 0,navigationName:void 0,status:void 0}}},created:function(){var t=this;this.handleBtnFuncArr=JSON.parse(localStorage.getItem("functionList")),this.handleBtnFuncArr.forEach((function(e,a){t.handleBtnShow.forEach((function(t,a){e==t.btnName&&(t.isShow=!0)}))})),this.getList(),this.getClassifySelList()},mounted:function(){this.rowDrop()},methods:{handleSelectionChange:function(t){this.selectedData=t},getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,Object(r["l"])(Object(s["a"])({},this.listQuery));case 3:e=t.sent,1==e.rtn&&(console.log(e,"res"),this.list=e.result.navigationList,this.total=e.result.total,this.listLoading=!1);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getClassifySelList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["m"])({});case 2:e=t.sent,console.log(e,"======"),1==e.rtn&&(this.classifySelList=e.classifyList);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleFilter:function(){this.listQuery.pageNum=1,this.getList()},handleReset:function(){this.listQuery={pageNum:1,pageSize:20,brandList:void 0,dataStatus:void 0,dataStatus1:void 0},this.getList()},handleAdd:function(t){this.$router.push({name:"ClassifyChildAddManage",query:{classifyUuid:t.classifyUuid,navigationId:t.navigationId,beforeRouter:"ClassifyChildListManage"}})},handleEdit:function(t){void 0!==this.$refs["dataForm3"]&&this.$refs.dataForm3.resetFields(),this.navItemForm.classifyUuid=t.classifyUuid,this.navItemForm.navigationId=t.navigationId,this.navItemForm.navigationName=t.navigationName,this.navItemForm.seq=t.seq,this.navItemForm.status=t.status,this.dialogFormVisible3=!0},handleEditNavStatus:function(){void 0!==this.$refs["dataForm1"]&&this.$refs.dataForm1.resetFields(),this.selectedData&&this.selectedData.length>0?this.dialogFormVisible1=!0:this.$message("请勾选要修改的导航")},handleDel:function(){var t=this;this.selectedData&&this.selectedData.length>0?this.$confirm("此次操作将删除该分类导航, 是否继续?","删除分类导航",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoaded_4=!0,a=[],t.selectedData.forEach((function(t,e){var i={};i.navigationId=t.navigationId,a.push(i)})),e.next=5,Object(r["r"])({navigationList:a});case 5:i=e.sent,1==i.rtn&&t.$message({type:"success",message:"删除成功!"}),t.getList(),t.isLoaded_4=!1;case 9:case"end":return e.stop()}}),e)})))).catch((function(){t.selectedData=[],t.$refs.tableRef.clearSelection(),t.$message({type:"info",message:"已取消"})})):this.$message("请勾选要删除的分类导航")},closeModal:function(){this.dialogFormVisible1=!1,this.dialogFormVisible2=!1,this.dialogFormVisible3=!1,this.selectedData=[],this.$refs.tableRef.clearSelection()},handleEditNavSubmit:function(){var t=this;this.$refs.dataForm3.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=11;break}return t.isLoaded_3=!0,e.next=4,Object(r["u"])(Object(s["a"])({},t.navItemForm));case 4:i=e.sent,console.log(i),1==i.rtn&&t.$message({type:"success",message:"修改成功!"}),t.navItemForm={navigationName:""},t.getList(),t.isLoaded_3=!1,t.dialogFormVisible3=!1;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleEditNavStatusSubmit:function(){var t=this;this.$refs.dataForm1.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=12;break}return t.isLoaded_1=!0,i=[],t.selectedData.forEach((function(t,e){var a={};a.navigationId=t.navigationId,i.push(a)})),e.next=6,Object(r["t"])({navigationList:JSON.stringify(i),status:t.form1.status});case 6:n=e.sent,console.log(n),1==n.rtn&&t.$message({type:"success",message:"修改成功!"}),t.getList(),t.isLoaded_1=!1,t.dialogFormVisible1=!1;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getRowKeys:function(t){return t.navigationId},rowDrop:function(){var t=document.getElementById("crTable").querySelector(".el-table__body-wrapper tbody");if(!this.handleBtnShow[2].isShow)return!1;var e=this;c.a.create(t,{onEnd:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var i,n,s,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=a.newIndex,n=a.oldIndex,console.log(i,n),console.log(e,"--------"),s=e.list.splice(n,1)[0],console.log(e.tableData),e.list.splice(i,0,s),console.log(e.list,"====="),o=[],e.list.forEach((function(t,e){var a={};a.navigationId=t.navigationId,a.seq=100*(e+1),o.push(a)})),t.next=11,Object(r["s"])({navigationList:o});case 11:l=t.sent,l.rtn;case 13:case"end":return t.stop()}}),t)})));function a(e){return t.apply(this,arguments)}return a}()})}}}),m=f,h=(a("cbeb"),a("2877")),p=Object(h["a"])(m,i,n,!1,null,null,null);e["default"]=p.exports}}]);