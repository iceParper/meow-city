(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ad07706"],{"177c":function(t,e,r){"use strict";r.d(e,"f",(function(){return n})),r.d(e,"e",(function(){return a})),r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return i})),r.d(e,"d",(function(){return u})),r.d(e,"b",(function(){return l}));var s=r("ab3e");function n(t){return Object(s["a"])({url:"/cusmanager/selection/list",method:"post",data:t})}function a(t){return Object(s["a"])({url:"/cusmanager/list",method:"post",data:t})}function o(t){return Object(s["a"])({url:"/cusmanager/add",method:"post",data:t})}function i(t){return Object(s["a"])({url:"/cusmanager/modify",method:"post",data:t})}function u(t){return Object(s["a"])({url:"/cusmanager/modify/status",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/cusmanager/remove",method:"post",data:t})}},"38a2":function(t,e,r){},"6fcd":function(t,e,r){"use strict";var s=r("38a2"),n=r.n(s);n.a},bc4a:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"header"},[r("div",{staticClass:"clearfix headLab"},[t.canEdit?r("span",{staticStyle:{"font-size":"16px"}},[t._v("修改用户信息")]):t.isDtl?r("span",{staticStyle:{"font-size":"16px"}},[t._v("查看用户信息")]):r("span",{staticStyle:{"font-size":"16px"}},[t._v("新增用户信息")]),t._v(" "),r("el-button",{staticStyle:{float:"right",padding:"3px 0","font-size":"14px"},attrs:{type:"text"},on:{click:t.onBack}},[t._v("返回")])],1)]),t._v(" "),r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataForm",staticStyle:{width:"calc(100% - 600px)","margin-left":"240px"},attrs:{rules:t.rules,model:t.form,"label-position":"right","label-width":"120px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[r("el-input",{attrs:{disabled:t.isDtl,maxlength:16},model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"部门",prop:"department"}},[r("el-input",{attrs:{disabled:t.isDtl,maxlength:16},model:{value:t.form.department,callback:function(e){t.$set(t.form,"department",e)},expression:"form.department"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"职务",prop:"userPost"}},[r("el-input",{attrs:{disabled:t.isDtl,maxlength:16},model:{value:t.form.userPost,callback:function(e){t.$set(t.form,"userPost",e)},expression:"form.userPost"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"手机号码",prop:"userPhone"}},[r("el-input",{attrs:{disabled:t.isDtl,maxlength:16},model:{value:t.form.userPhone,callback:function(e){t.$set(t.form,"userPhone",e)},expression:"form.userPhone"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"用户账号",prop:"userAccount"}},[r("el-input",{attrs:{disabled:t.isDtl,maxlength:16},model:{value:t.form.userAccount,callback:function(e){t.$set(t.form,"userAccount",e)},expression:"form.userAccount"}})],1),t._v(" "),"add"===t.type?r("el-form-item",{attrs:{label:"密码",prop:"userPassword"}},[r("el-input",{attrs:{disabled:t.isDtl,maxlength:16},model:{value:t.form.userPassword,callback:function(e){t.$set(t.form,"userPassword",e)},expression:"form.userPassword"}})],1):t._e(),t._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"userEmail"}},[r("el-input",{attrs:{disabled:t.isDtl,maxlength:16},model:{value:t.form.userEmail,callback:function(e){t.$set(t.form,"userEmail",e)},expression:"form.userEmail"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"状态",prop:"status"}},[r("el-select",{staticStyle:{width:"200px"},attrs:{disabled:t.isDtl,placeholder:"状态"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.statusOptions,(function(t){return r("el-option",{key:t.key,attrs:{label:t.lab,value:t.value}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"客户经理"}},[r("el-select",{staticStyle:{width:"200px"},attrs:{disabled:t.isDtl,placeholder:"绑定客户经理"},model:{value:t.form.managerId,callback:function(e){t.$set(t.form,"managerId",e)},expression:"form.managerId"}},t._l(t.managerSelList,(function(t){return r("el-option",{key:t.customerServiceUuid,attrs:{label:t.name,value:t.customerServiceUuid}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"角色",prop:"roleList"}},[r("el-checkbox-group",{attrs:{disabled:t.isDtl},model:{value:t.roleListCheckOptions,callback:function(e){t.roleListCheckOptions=e},expression:"roleListCheckOptions"}},t._l(t.roleListArr,(function(e){return r("el-checkbox",{key:e.roleId,attrs:{label:e.roleId}},[t._v(t._s(e.roleName))])})),1)],1),t._v(" "),t.isDtl?t._e():r("el-form-item",{attrs:{align:"center"}},[r("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",loading:t.isLoaded},on:{click:t.onSubmit}},[t._v("确定")]),t._v(" "),r("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},n=[],a=r("db72"),o=(r("ac6a"),r("96cf"),r("3b8d")),i=r("f9ac"),u=r("177c"),l={name:"SysAddUserManage",data:function(){return{loading:!1,isLoaded:!1,statusOptions:[{key:1,lab:"启用",value:1},{key:2,lab:"停用",value:2}],managerSelList:[],roleListArr:[],roleListCheckOptions:[],type:"",canEdit:"",isDtl:!1,userId:"",form:{userName:void 0,department:void 0,userPost:void 0,userPhone:void 0,userAccount:void 0,status:void 0,userEmail:void 0,roleList:[],userPassword:void 0,managerId:void 0},rules:{userName:[{required:!0,message:"必填项",trigger:"blur"}],roleList:[{required:!0,type:"array",message:"必填项",trigger:"blur"}],department:[{required:!0,message:"必填项",trigger:"blur"}],userPost:[{required:!0,message:"必填项",trigger:"blur"}],userPhone:[{required:!0,message:"必填项",trigger:"blur"}],userAccount:[{required:!0,message:"必填项",trigger:"blur"}],status:[{required:!0,message:"必填项",trigger:"blur"}],userEmail:[{required:!0,message:"必填项",trigger:"blur"}],userPassword:[{required:!0,message:"必填项",trigger:"blur"}],managerId:[{required:!0,message:"必填项",trigger:"blur"}]}}},created:function(){this.getRoleList(),this.getManagerSelList()},mounted:function(){this.userId=this.$route.query.userId,this.beforeRouter=this.$route.query.beforeRouter,this.$route.query.canEdit&&(this.canEdit=JSON.parse(this.$route.query.canEdit)),this.$route.query.isDtl&&(this.isDtl=JSON.parse(this.$route.query.isDtl)),this.canEdit?(this.type="update",document.title="修改系统用户",this.$route.meta.title="修改系统用户"):this.isDtl?(this.type="check",document.title="查看系统用户",this.$route.meta.title="查看系统用户"):(this.type="add",document.title="新增系统用户",this.$route.meta.title="新增系统用户"),"update"!==this.type&&"check"!==this.type||this.getDetail()},methods:{getManagerSelList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["f"])({});case 2:e=t.sent,console.log(e),1==e.rtn&&(this.managerSelList=e.cusManageList);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getDetail:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,s,n,a,o,u,l,c,d,m,f=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(i["v"])({userId:this.userId});case 3:e=t.sent,1==e.rtn&&(this.loading=!1,r=e.result,s=r.userName,n=r.userPhone,a=r.userPost,o=r.userAccount,u=r.userEmail,l=r.status,c=r.department,d=r.roleList,m=r.managerId,d.forEach((function(t,e){f.roleListCheckOptions.push(t.roleId)})),this.managerSelList.some((function(t,e){})),console.log(this.roleListCheckOptions),this.form.userName=s,this.form.department=c,this.form.userPost=a,this.form.userPhone=n,this.form.userAccount=o,this.form.status=l,this.form.userEmail=u,this.form.userId=this.userId,this.form.managerId=m,delete this.form.userPassword);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getRoleList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["r"])({pageNum:1,pageSize:100});case 2:e=t.sent,1==e.rtn&&(this.roleListArr=e.result.roleList);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onSubmit:function(){var t=this;this.form.roleList=this.roleListCheckOptions,this.$refs.dataForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(r){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=17;break}if(t.isLoaded=!0,t.form.roleList=t.form.roleList.map((function(t){return{roleId:t}})),"add"!==t.type){e.next=12;break}return e.next=6,Object(i["b"])(Object(a["a"])({},t.form));case 6:s=e.sent,console.log(s),1==s.rtn&&(t.$message.success("创建成功"),t.resetForm()),t.isLoaded=!1,e.next=17;break;case 12:return e.next=14,Object(i["f"])(Object(a["a"])({},t.form));case 14:n=e.sent,1==n.rtn&&(t.$message.success("修改成功"),t.$router.push({name:"SysUserManage"})),t.isLoaded=!1;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onCancel:function(){"add"===this.type?this.resetForm():this.$router.push({name:"SysUserManage"})},resetForm:function(){this.$refs.dataForm.resetFields(),this.roleListCheckOptions=[],this.form={userName:void 0,department:void 0,userPost:void 0,userPhone:void 0,userAccount:void 0,status:void 0,userEmail:void 0,roleList:[],managerId:void 0,userPassword:void 0}},onBack:function(){this.$router.back(-1)}}},c=l,d=(r("6fcd"),r("2877")),m=Object(d["a"])(c,s,n,!1,null,"6b51386b",null);e["default"]=m.exports},f9ac:function(t,e,r){"use strict";r.d(e,"u",(function(){return n})),r.d(e,"r",(function(){return a})),r.d(e,"b",(function(){return o})),r.d(e,"v",(function(){return i})),r.d(e,"f",(function(){return u})),r.d(e,"d",(function(){return l})),r.d(e,"c",(function(){return c})),r.d(e,"s",(function(){return d})),r.d(e,"t",(function(){return m})),r.d(e,"a",(function(){return f})),r.d(e,"e",(function(){return p})),r.d(e,"n",(function(){return h})),r.d(e,"k",(function(){return b})),r.d(e,"o",(function(){return g})),r.d(e,"m",(function(){return v})),r.d(e,"l",(function(){return y})),r.d(e,"i",(function(){return O})),r.d(e,"g",(function(){return x})),r.d(e,"j",(function(){return k})),r.d(e,"h",(function(){return j})),r.d(e,"q",(function(){return L})),r.d(e,"p",(function(){return w})),r.d(e,"y",(function(){return _})),r.d(e,"w",(function(){return P})),r.d(e,"x",(function(){return $}));var s=r("ab3e");function n(t){return Object(s["a"])({url:"/sys/user/list",method:"post",data:t})}function a(t){return Object(s["a"])({url:"/sys/role/list",method:"post",data:t})}function o(t){return Object(s["a"])({url:"/sys/user/add",method:"post",data:t})}function i(t){return Object(s["a"])({url:"/sys/user/detail",method:"post",data:t})}function u(t){return Object(s["a"])({url:"/sys/user/modify",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/sys/user/restPassword",method:"post",data:t})}function c(t){return Object(s["a"])({url:"/sys/role/remove",method:"post",data:t})}function d(t){return Object(s["a"])({url:"/sys/role/detail",method:"post",data:t})}function m(t){return Object(s["a"])({url:"/sys/role/permission/tree",method:"post",data:t})}function f(t){return Object(s["a"])({url:"/sys/role/add",method:"post",data:t})}function p(t){return Object(s["a"])({url:"/sys/role/modify",method:"post",data:t})}function h(t){return Object(s["a"])({url:"member/list",method:"post",data:t})}function b(t){return Object(s["a"])({url:"member/add",method:"post",data:t})}function g(t){return Object(s["a"])({url:"member/modify/status",method:"post",data:t})}function v(t){return Object(s["a"])({url:"member/detail",method:"post",data:t})}function y(t){return Object(s["a"])({url:"member/remove",method:"post",data:t})}function O(t){return Object(s["a"])({url:"freight/list",method:"post",data:t})}function x(t){return Object(s["a"])({url:"freight/add",method:"post",data:t})}function k(t){return Object(s["a"])({url:"freight/modify/status",method:"post",data:t})}function j(t){return Object(s["a"])({url:"freight/remove",method:"post",data:t})}function L(t){return Object(s["a"])({url:"/freight/provinceList",method:"post",data:t})}function w(t){return Object(s["a"])({url:"/member/merchantList",method:"post",data:t})}function _(t){return Object(s["a"])({url:"/sys/app/version/list",method:"post",data:t})}function P(t){return Object(s["a"])({url:"/sys/app/version/add",method:"post",data:t})}function $(t){return Object(s["a"])({url:"/sys/app/version/modify",method:"post",data:t})}}}]);